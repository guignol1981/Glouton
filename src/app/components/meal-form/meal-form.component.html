<div *ngIf="form" class="container mt-3">
    <h2 class="text-center">Suggest a meal</h2>
    <form class="mt-3" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" formControlName="title" placeholder="Title"
                   aria-describedby="titleHelper" required>
            <small id="titleHelper" class="form-text text-muted">The title of you meal</small>
            <small *ngIf="displayFormControlValidationMessage('title')" class="form-text text-warning">The title should be 10 characters at least</small>
        </div>
        <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control" id="description" formControlName="description"
                      placeholder="Description" aria-describedby="descriptionHelper" cols="30" rows="5"></textarea>
            <small id="descriptionHelper" class="form-text text-muted">Describe your mean</small>
            <small *ngIf="displayFormControlValidationMessage('description')" class="form-text text-warning">The description should be 30 characters at least</small>
        </div>
        <div class="form-group">
            <image-upload
                    [url]="imageService.getMealImageApiEndPoint()"
                    [max]="1"
                    (uploadFinished)="imageFinishedUploading($event)"
                    (removed)="onImageRemoved()"
                    [extensions]="['jpg','png','gif']"
                    [headers]="{Authorization: 'Bearer ' + authenticationService.getToken()}">
            </image-upload>
        </div>
        <div class="row">
            <div class="col form-group">
                <label for="date">Date</label>
                <input type="date" class="form-control" id="date" formControlName="date" aria-describedby="dateHelper">
                <small id="dateHelper" class="form-text text-muted">The date you will deliver this meal</small>
            </div>
            <div class="col form-group">
                <label for="limitDate">Date limit for subscription</label>
                <input type="date" class="form-control" id="limitDate" formControlName="limitDate" aria-describedby="limitDateHelper">
                <small id="limiteDateHelper" class="form-text text-muted">The limit date to join this meal</small>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label for="minParticipants">Minimum of participants</label>
                    <input type="number" class="form-control" id="minParticipants" formControlName="minParticipants"
                           aria-describedby="minParticipantsHelper">
                    <small id="minParticipantsHelper" class="form-text text-muted">The minimum participants you need to
                        cook this meal
                    </small>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="maxParticipants">maximum of participants</label>
                    <input type="number" class="form-control" id="maxParticipants" formControlName="maxParticipants"
                           aria-describedby="maxParticipantsHelper">
                    <small id="maxParticipantsHelper" class="form-text text-muted">The maximum participants for this meal
                    </small>
                </div>
            </div>
        </div>
        <button [disabled]="!form.valid" class="btn btn-primary">Submit</button>
    </form>
</div>